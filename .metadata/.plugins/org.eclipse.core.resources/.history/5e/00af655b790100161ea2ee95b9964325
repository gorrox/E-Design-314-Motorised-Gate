/*
 * global.h
 *
 *  Created on: Apr 11, 2016
 *      Author: trist
 */

#ifndef GLOBAL_H_
#define GLOBAL_H_
#include "r_cg_macrodriver.h"

/*
 * DEBUG
 */
#define debug_msg 0x37C0
/*
 * END_DEBUG
 */

#define fullHalfBitLength 128
#define frameHalfBitLength 28

//BUTTONS
#define btnOpen P13_bit.no7
#define btnClose P4_bit.no1
// Student nr - code is 0x84
#define defBtn1Code 0x32A1  	// Open
#define defBtn2Code 0x32A2		// Close
#define defBothBtnsCode 0x32A3	// Emergency Stop
volatile uint8_t btn1Code;		// These will change with toggles
volatile uint8_t btn2Code;
volatile uint8_t bothBtnsCode;
//volatile uint8_t btnOpenPressed;	// 0 Not pressed; 1 Pressed
//volatile uint8_t btnClosePressed;	// " "

//FLAGS
// RC5 Manchester 38Khz pulse train toggle
volatile uint8_t modulate;
// Flag for current transmitting action
volatile uint8_t tx;

//DATA
// 16 bit message buffer
volatile uint16_t msg;

//FUNCTIONS
void transmit(void);

#endif /* GLOBAL_H_ */
